---
title: Uniswap V2 Code Explained in 5 minutes
date: 2023/01/28
description: Explaining the most important parts of the code for future, easy reference
tag: DeFi,Uniswap
author: Dave Kajpust
---

# Uniswap V2 Code Explained in 5 minutes

Uniswap V2 is not a very complex protocol. There are only a few key points to understand. I ignore a lot of the library code, supporting functions, fees, and others, etc. I just focus on swapping, and depositing/removing liquidity.

## Architecture

Uniswap is split into the **Core Contracts** and the **Periphery Contracts**. Core consists of low level contracts that do the majority of the swaps and liquidity transactions, and are quite gas efficient. Periphery consists of contracts that are less gas optimized, and a little easier to read and understand. They expose many view functions that provide important data, such as a quote price or the expected return from a swap. The Periphery contracts are the contracts that users interact with.

## Core Code

#### UniswapV2Factory.sol

The contract that creates every **UniswapV2Pair.sol**. Each Pair is it's own Automatic Market Maker (AMM).

- `createPair()` - This is the main function to pay attention to. It will create a new AMM for a pair of tokens, with a deterministic address.

#### UniswapV2Pair.sol

Is a contract that contains code to make it an Automatic Market Maker (AMM), and an ERC20, as each Pair inherits **UniswapV2ERC20.sol**.

- `mint()` - Should always be called by the **Router** Periphery contract. It accepts a deposit of 2 tokens, and will then mint an LP token in return to the user. Note, that the function works by first sending the tokens to the Pair contract with a transfer, and then doing the math to compute the LP tokens the user will get.
- `burn()` - The opposite of mint. It will burn an LP token and return the 2 underlying tokens in the pair, as per the current ratio of the 2 tokens in the AMM. Should be called by the **Router**.
- `swap()` - Swap 1 token for another on an AMM Pair. Should always be called by the **Router**. The Router has 6 different functions for swapping, with different permutations for tokens being swapped. This will be explained below.

#### UniswapV2ERC20.sol

It's just a basic ERC20 contract, with the `permit()` function included. The symbol for all of these tokens is **UNI-V2**. These **UNI-V2** tokens represent the ownership of liquidity in the AMM. Whenever you deposit liquidity into a **UniswapV2Pair** an LP token will be minted for you, which represents an amount of the 2 tokens in the AMM, depending on the ratio of the 2 tokens within the pool.

- There are no functions to point out here, as it is a basic ERC20 contract, which can be read about elsewhere.

## Periphery Code

**UniswapV2Router02.sol**

- **addLiquidity() or addLiquidityETH()**
